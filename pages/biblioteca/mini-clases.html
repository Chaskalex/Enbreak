<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enbreak | Mini-clases</title>
    <link rel="icon" type="image/x-icon" href="../../favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
    <link rel="manifest" href="../../favicon/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Rubik:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/style.css">
    <style>
/* Page Header */
.page-header {
    position: relative;
    width: 100%;
    background: #ffffff;
    border-bottom: 1px solid #d2d2d2;
}

.page-header::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 55%;
    height: 100%;
    background: url('../../assets/banners/banner5.jpg') left 25% / cover no-repeat;
    filter: contrast(1.05) brightness(1.15);
    opacity: 0.45;
    pointer-events: none;
    mask-image: linear-gradient(to left,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,0.9) 70%,
        rgba(0,0,0,0) 100%);
    -webkit-mask-image: linear-gradient(to left,
        rgba(0,0,0,1) 0%,
        rgba(0,0,0,0.9) 70%,
        rgba(0,0,0,0) 100%);
    animation: bannerImageSlideIn 1s ease-out;
}

.page-header::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 60%;
    height: 100%;
    background: linear-gradient(to left,
        transparent 0%,
        rgba(255, 255, 255, 0.05) 50%,
        rgba(255, 255, 255, 0.2) 100%);
    pointer-events: none;
    z-index: 1;
}

.page-header-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    min-height: 140px;
    position: relative;
    display: flex;
    align-items: center;
}

.page-header-content {
    padding: 30px 40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 8px;
    position: relative;
    z-index: 1;
    max-width: 520px;
    animation: bannerTextSlideIn 1s ease-out;
}

.page-header-image {
    display: none;
}

.page-header-accent {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 60px;
    background: #ff6600;
    z-index: 2;
}

.page-header .breadcrumb {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
}

.page-header .breadcrumb a {
    color: #6b7280;
    text-decoration: none;
    transition: color 0.2s ease;
}

.page-header .breadcrumb a:hover {
    color: #ff6600;
}

.page-header .breadcrumb-separator {
    color: #d1d5db;
    font-size: 9px;
}

.page-header .breadcrumb-current {
    color: #374151;
    font-weight: 500;
}

.page-header h1 {
    font-family: 'Rubik', sans-serif;
    font-size: 32px;
    font-weight: 700;
    color: #0a1e42;
    margin: 0;
    line-height: 1.2;
}

/* Banner animations */
@keyframes bannerTextSlideIn {
    from {
        opacity: 0;
        transform: translateX(-60px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes bannerImageSlideIn {
    from {
        opacity: 0;
        transform: translateX(40px);
    }
    to {
        opacity: 0.45;
        transform: translateX(0);
    }
}

/* Activities/Mini-classes Container */
.activities-container {
    background: #f8f9fa;
    padding: 50px 40px 100px;
}

.activities-inner {
    max-width: 1200px;
    margin: 0 auto;
}

/* Filters and Sort Row */
.filters-sort-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 48px;
    gap: 24px;
}

.filters-left {
    display: flex;
    gap: 16px;
    align-items: center;
}

/* Dropdown Styles */
.filter-dropdown {
    position: relative;
}

.filter-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    background: #ffffff;
    border: 1.5px solid #e5e7eb;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    font-weight: 500;
    color: #4b5563;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.filter-btn:hover {
    border-color: #d1d5db;
    background: #f9fafb;
}

.filter-btn i {
    font-size: 12px;
    color: #9ca3af;
}

.filter-menu {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    background: #ffffff;
    border: 1.5px solid #e5e7eb;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
    min-width: 160px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-8px);
    transition: all 0.2s ease;
    z-index: 100;
}

.filter-dropdown.active .filter-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.filter-option {
    display: block;
    width: 100%;
    padding: 12px 16px;
    background: none;
    border: none;
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    font-weight: 500;
    color: #4b5563;
    text-align: left;
    cursor: pointer;
    transition: background 0.15s ease;
}

.filter-option:first-child {
    border-radius: 8px 8px 0 0;
}

.filter-option:last-child {
    border-radius: 0 0 8px 8px;
}

.filter-option:hover {
    background: #f3f4f6;
}

.filter-option.active {
    color: #ff6600;
    background: #fff7ed;
}

/* Results Count */
.results-count {
    font-family: 'Inter', sans-serif;
    font-size: 13px;
    font-weight: 500;
    color: #4b5563;
    white-space: nowrap;
    margin-left: auto;
}

.results-count strong {
    color: #1f2937;
}

/* Grid */
.activities-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
}

/* Card */
.activity-card {
    background: #ffffff;
    border-radius: 16px;
    border: 1.5px solid #e5e7eb;
    overflow: hidden;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
}

.activity-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 16px 32px rgba(0, 0, 0, 0.12);
    border-color: #d1d5db;
}

.activity-card-link {
    display: flex;
    flex-direction: column;
    text-decoration: none;
    color: inherit;
    height: 100%;
}

.activity-card-image {
    position: relative;
    height: 140px;
    background-size: cover;
    background-position: center;
    background-color: #e5e7eb;
}

.activity-card-image::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70%;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.5) 0%, transparent 100%);
    pointer-events: none;
}

.activity-card-icon {
    position: absolute;
    bottom: -28px;
    left: 50%;
    transform: translateX(-50%);
    width: 56px;
    height: 56px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    background: #ffffff;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    z-index: 10;
    transition: transform 0.3s ease;
    color: #ff6600;
}

.activity-card:hover .activity-card-icon {
    transform: translateX(-50%) scale(1.08);
}

.activity-card-info {
    padding: 40px 20px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    flex: 1;
}

.activity-card-title {
    font-family: 'Rubik', sans-serif;
    font-size: 17px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

/* NEW Badge */
.new-badge {
    padding: 3px 7px;
    border-radius: 4px;
    background: linear-gradient(135deg, #ff6600 0%, #ef4444 100%);
    color: #ffffff;
    font-family: 'Inter', sans-serif;
    font-size: 9px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.activity-card-badges {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}

.skill-badge {
    padding: 5px 12px;
    border-radius: 6px;
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 600;
    background: #f3f4f6;
    color: #4b5563;
}

.skill-badge.grammar { background: #dbeafe; color: #2563eb; }
.skill-badge.vocabulary { background: #f3e8ff; color: #9333ea; }
.skill-badge.phonetics { background: #fee2e2; color: #dc2626; }

.level-badge {
    padding: 5px 12px;
    border-radius: 6px;
    font-family: 'Inter', sans-serif;
    font-size: 11px;
    font-weight: 700;
    background: #ffedd5;
    color: #ea580c;
}

/* Pagination */
.pagination {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 48px;
}

.pagination-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: 1.5px solid #e5e7eb;
    border-radius: 10px;
    background: #ffffff;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    font-weight: 500;
    color: #4b5563;
    cursor: pointer;
    transition: all 0.2s ease;
}

.pagination-btn:hover:not(:disabled) {
    border-color: #d1d5db;
    background: #f9fafb;
}

.pagination-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.pagination-btn.active {
    background: #0a1e42;
    border-color: #0a1e42;
    color: #ffffff;
}

/* Responsive */
@media (max-width: 1024px) {
    .activities-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .page-header::after { display: none; }
    .page-header-wrapper { min-height: auto; }
    .page-header-content { padding: 24px 20px; }
    .page-header h1 { font-size: 24px; }

    .activities-container { padding: 40px 20px 80px; }

    .filters-sort-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 20px;
    }

    .filters-left {
        flex-direction: column;
        width: 100%;
        gap: 12px;
    }

    .filter-dropdown {
        width: 100%;
    }

    .filter-btn {
        width: 100%;
        justify-content: space-between;
    }

    .results-count {
        margin-left: 0;
        width: 100%;
        font-size: 12px;
    }

    .activities-grid {
        grid-template-columns: 1fr;
    }
}
</style>

</head>
<body>

    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Banner Section -->
    <main style="padding: 0; margin: 0;">
        <section class="page-header">
            <div class="page-header-wrapper">
                <div class="page-header-content">
                     <div class="page-header-accent"></div>
                    <nav class="breadcrumb">
                        <a href="/">Inicio</a>
                        <span class="breadcrumb-separator">›</span>
                        <span class="breadcrumb-current">Mini-classes</span>
                    </nav>
                    <h1>Mini-classes</h1>
                </div>
            </div>
        </section>

        <section class="activities-container">
            <div class="activities-inner">
                <!-- Filters and Sort Row -->
                <div class="filters-sort-row">
                    <div class="filters-left">
                        <div class="filter-dropdown" id="level-filter">
                            <button class="filter-btn">
                                <span>Nivel:</span>
                                <span class="filter-label">Todos</span>
                                <i class="fa-solid fa-chevron-down"></i>
                            </button>
                            <div class="filter-menu">
                                <button class="filter-option active" data-value="all">Todos</button>
                                <button class="filter-option" data-value="Pre-A1">Pre-A1</button>
                                <button class="filter-option" data-value="A1">A1</button>
                                <button class="filter-option" data-value="A2">A2</button>
                                <button class="filter-option" data-value="B1">B1</button>
                                <button class="filter-option" data-value="B2">B2</button>
                                <button class="filter-option" data-value="C1">C1</button>
                            </div>
                        </div>

                        <div class="filter-dropdown" id="type-filter">
                            <button class="filter-btn">
                                <span>Tipo:</span>
                                <span class="filter-label">Todos</span>
                                <i class="fa-solid fa-chevron-down"></i>
                            </button>
                            <div class="filter-menu">
                                <button class="filter-option active" data-value="all">Todos</button>
                                <button class="filter-option" data-value="Grammar">Grammar</button>
                                <button class="filter-option" data-value="Vocabulary">Vocabulary</button>
                                <button class="filter-option" data-value="Phonetics">Phonetics</button>
                            </div>
                        </div>

                        <div class="filter-dropdown" id="sort-filter">
                            <button class="filter-btn">
                                <span>Ordenar:</span>
                                <span class="filter-label">Más recientes</span>
                                <i class="fa-solid fa-chevron-down"></i>
                            </button>
                            <div class="filter-menu">
                                <button class="filter-option active" data-value="newest">Más recientes</button>
                                <button class="filter-option" data-value="oldest">Más antiguos</button>
                                <button class="filter-option" data-value="az">A-Z</button>
                            </div>
                        </div>
                    </div>

                    <div class="results-count">
                        <span>Mostrando <strong id="visible-count">0</strong> de <strong id="total-count">0</strong> lecciones</span>
                    </div>
                </div>

                <!-- Grid -->
                <div class="activities-grid" id="miniclass-grid">
                    <!-- Cards will be injected here by JS -->
                </div>

                <!-- Pagination -->
                <div class="pagination" id="pagination">
                    <button class="pagination-btn arrow" id="prev-btn" disabled>
                        <i class="fa-solid fa-chevron-left"></i>
                    </button>
                    <!-- Page numbers will be injected here -->
                    <button class="pagination-btn arrow" id="next-btn">
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </section>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Data Source
        const miniClasses = [
            // Level 0 (Pre-A1)
            { title: "Alphabet", level: "Pre-A1", type: "Vocabulary" },
            { title: "Numbers", level: "Pre-A1", type: "Vocabulary" },
            { title: "Colors", level: "Pre-A1", type: "Vocabulary" },
            { title: "Days & Months", level: "Pre-A1", type: "Vocabulary" },
            { title: "Weather", level: "Pre-A1", type: "Vocabulary" },
            { title: "Animals", level: "Pre-A1", type: "Vocabulary" },
            { title: "Sports", level: "Pre-A1", type: "Vocabulary" },
            { title: "Countries & Nationalities", level: "Pre-A1", type: "Vocabulary" },
            { title: "English Sounds", level: "Pre-A1", type: "Phonetics" },
            // Level A1
            { title: "Present Simple: Verb To Be", level: "A1", type: "Grammar" },
            { title: "Present Simple: Other Verbs", level: "A1", type: "Grammar" },
            { title: "Adverbs of Frequency", level: "A1", type: "Grammar" },
            { title: "Possessives", level: "A1", type: "Grammar" },
            { title: "Demonstrative Pronouns", level: "A1", type: "Grammar" },
            { title: "There is / There are", level: "A1", type: "Grammar" },
            { title: "Articles: A / An", level: "A1", type: "Grammar" },
            { title: "Have got", level: "A1", type: "Grammar" },
            { title: "Present Continuous", level: "A1", type: "Grammar" },
            { title: "Pronunciation of -s", level: "A1", type: "Phonetics" },
            // Level A2
            { title: "Past Simple: Verb To Be", level: "A2", type: "Grammar" },
            { title: "Past Simple: Other Verbs", level: "A2", type: "Grammar" },
            { title: "Comparatives and Superlatives", level: "A2", type: "Grammar" },
            { title: "Countable & Uncountable Nouns", level: "A2", type: "Grammar" },
            { title: "Future: Be Going To", level: "A2", type: "Grammar" },
            { title: "Future: Will", level: "A2", type: "Grammar" },
            { title: "Future: Present Continuous", level: "A2", type: "Grammar" },
            { title: "Modal Verbs: Must / Have to / Can", level: "A2", type: "Grammar" },
            { title: "Too / Enough", level: "A2", type: "Grammar" },
            { title: "Present Perfect", level: "A2", type: "Grammar" },
            { title: "Pronunciation of -ed", level: "A2", type: "Phonetics" },
            // Level B1
            { title: "Used to", level: "B1", type: "Grammar" },
            { title: "Past Continuous", level: "B1", type: "Grammar" },
            { title: "Present Perfect: for and since", level: "B1", type: "Grammar" },
            { title: "Present Perfect vs Past Simple", level: "B1", type: "Grammar" },
            { title: "Passive Voice (Present & Past)", level: "B1", type: "Grammar" },
            { title: "Relative Clauses", level: "B1", type: "Grammar" },
            { title: "First Conditional", level: "B1", type: "Grammar" },
            { title: "Second Conditional", level: "B1", type: "Grammar" },
            { title: "Past Perfect", level: "B1", type: "Grammar" },
            { title: "Reported Speech", level: "B1", type: "Grammar" },
            { title: "Sentence Stress", level: "B1", type: "Phonetics" },
            // Level B2
            { title: "Future Continuous", level: "B2", type: "Grammar" },
            { title: "Future Perfect", level: "B2", type: "Grammar" },
            { title: "Causative: Have / Get", level: "B2", type: "Grammar" },
            { title: "Third Conditional", level: "B2", type: "Grammar" },
            { title: "Mixed Conditional", level: "B2", type: "Grammar" },
            { title: "Relative Clauses: Defining and Non-defining", level: "B2", type: "Grammar" },
            { title: "Reported Speech (Advanced)", level: "B2", type: "Grammar" },
            { title: "Modal Verbs of Deduction", level: "B2", type: "Grammar" },
            { title: "Wishes and Regrets", level: "B2", type: "Grammar" },
            { title: "Connected Speech", level: "B2", type: "Phonetics" },
            // Level C1
            { title: "Advanced modals", level: "C1", type: "Grammar" },
            { title: "Third Conditional", level: "C1", type: "Grammar" },
            { title: "Relative Clauses", level: "C1", type: "Grammar" },
            { title: "Nominalisation", level: "C1", type: "Grammar" },
            { title: "Intonation Patterns", level: "C1", type: "Phonetics" }
        ];

        // Shuffle miniClasses
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        shuffleArray(miniClasses);

        // State
        let currentLevel = 'all';
        let currentType = 'all';
        let currentSort = 'newest';
        let currentPage = 1;
        const itemsPerPage = 9;

        // DOM Elements
        const grid = document.getElementById('miniclass-grid');
        const visibleCountEl = document.getElementById('visible-count');
        const totalCountEl = document.getElementById('total-count');
        const paginationContainer = document.getElementById('pagination');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        // Filter Dropdowns Logic
        function setupDropdown(id, onSelect) {
            const dropdown = document.getElementById(id);
            const btn = dropdown.querySelector('.filter-btn');
            const label = dropdown.querySelector('.filter-label');
            const options = dropdown.querySelectorAll('.filter-option');

            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                // Close other dropdowns
                document.querySelectorAll('.filter-dropdown').forEach(d => {
                    if (d !== dropdown) d.classList.remove('active');
                });
                dropdown.classList.toggle('active');
            });

            options.forEach(opt => {
                opt.addEventListener('click', () => {
                    options.forEach(o => o.classList.remove('active'));
                    opt.classList.add('active');
                    label.textContent = opt.textContent;
                    dropdown.classList.remove('active');
                    onSelect(opt.dataset.value);
                });
            });
        }

        // Close dropdowns on click outside
        document.addEventListener('click', () => {
            document.querySelectorAll('.filter-dropdown').forEach(d => d.classList.remove('active'));
        });

        // Initialize Filters
        setupDropdown('level-filter', (val) => {
            currentLevel = val;
            currentPage = 1;
            render();
        });

        setupDropdown('type-filter', (val) => {
            currentType = val;
            currentPage = 1;
            render();
        });

        setupDropdown('sort-filter', (val) => {
            currentSort = val;
            currentPage = 1;
            render();
        });

        // Render Function
        function render() {
            // 1. Filter
            let filtered = miniClasses.filter(item => {
                const levelMatch = currentLevel === 'all' || item.level === currentLevel;
                const typeMatch = currentType === 'all' || item.type === currentType;
                return levelMatch && typeMatch;
            });

            // 2. Sort
            if (currentSort === 'newest') {
                // Assuming original array order is "newest" (or oldest, depending on perspective). 
                // Let's assume original list is sorted by level, so "newest" might not apply strictly.
                // We'll just keep original order for "newest" as default.
                // Or reverse it if we consider bottom of list as newest.
                // Let's keep original order for consistency.
            } else if (currentSort === 'oldest') {
                filtered.reverse();
            } else if (currentSort === 'az') {
                filtered.sort((a, b) => a.title.localeCompare(b.title));
            }

            // 3. Paginate
            const totalItems = filtered.length;
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            
            if (currentPage > totalPages) currentPage = 1;
            
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageItems = filtered.slice(start, end);

            // 4. Update DOM
            grid.innerHTML = '';
            pageItems.forEach(item => {
                const card = document.createElement('div');
                card.className = 'activity-card';
                
                // Determine badge class
                let typeClass = 'grammar';
                let iconClass = 'fa-book';
                if (item.type === 'Vocabulary') {
                    typeClass = 'vocabulary';
                    iconClass = 'fa-spell-check';
                } else if (item.type === 'Phonetics') {
                    typeClass = 'phonetics';
                    iconClass = 'fa-microphone-lines';
                }

                // New Badge Logic (First 3 items of the shuffled list get the badge)
                // We check the index in the *original shuffled array* to keep consistency if we were to filter, 
                // but here we are iterating pageItems. 
                // To match "activities page" logic where badges are on specific items, let's assign isNew property before rendering.
                const isNew = miniClasses.indexOf(item) < 3;

                card.innerHTML = `
                    <a href="#" class="activity-card-link">
                        <div class="activity-card-image" style="background-image: none; background-color: #e5e7eb;">
                            <div class="activity-card-icon" style="color: #ff6600;">
                                <i class="fa-solid ${iconClass}"></i>
                            </div>
                        </div>
                        <div class="activity-card-info">
                            <h3 class="activity-card-title">${item.title} ${isNew ? '<span class="new-badge">New</span>' : ''}</h3>
                            <div class="activity-card-badges">
                                <span class="skill-badge ${typeClass}">${item.type}</span>
                                <span class="level-badge">${item.level}</span>
                            </div>
                        </div>
                    </a>
                `;
                grid.appendChild(card);
            });

            // Update Counts
            visibleCountEl.textContent = pageItems.length;
            totalCountEl.textContent = totalItems;

            // Update Pagination Controls
            renderPagination(totalPages);
        }

        function renderPagination(totalPages) {
            // Remove existing numbers
            const existingNums = paginationContainer.querySelectorAll('.pagination-btn[data-page]');
            existingNums.forEach(el => el.remove());

            if (totalPages <= 1) {
                paginationContainer.style.display = 'none';
                return;
            }
            paginationContainer.style.display = 'flex';

            // Add numbers
            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
                btn.textContent = i;
                btn.dataset.page = i;
                btn.addEventListener('click', () => {
                    currentPage = i;
                    render();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                nextBtn.before(btn);
            }

            // Update arrows
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;
        }

        prevBtn.addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                render();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });

        nextBtn.addEventListener('click', () => {
            const totalPages = Math.ceil(miniClasses.length / itemsPerPage); // Approximation, real check inside render
            // We need real total pages based on filter
            // But render() handles bounds checking anyway
            currentPage++;
            render();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Initial Render
        render();
    });
</script>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

<script src="../../js/layout.js"></script>
<script src="../../js/script.js" defer></script>

</body>
</html>
